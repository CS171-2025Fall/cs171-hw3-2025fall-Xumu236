\documentclass[acmtog]{acmart}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{natbib}
\usepackage{listings}
\usepackage{bm}
\usepackage{amsmath}

\definecolor{blve}{rgb}{0.3372549 , 0.61176471, 0.83921569}
\definecolor{gr33n}{rgb}{0.29019608, 0.7372549, 0.64705882}
\makeatletter
\lst@InstallKeywords k{class}{classstyle}\slshape{classstyle}{}ld
\makeatother
\lstset{language=C++,
	basicstyle=\ttfamily,
	keywordstyle=\color{blve}\ttfamily,
	stringstyle=\color{red}\ttfamily,
	commentstyle=\color{magenta}\ttfamily,
	morecomment=[l][\color{magenta}]{\#},
	classstyle = \bfseries\color{gr33n}, 
	tabsize=2
}
\lstset{basicstyle=\ttfamily}

% Title portion
\title{Assignment 3:\\ {Basic Ray Tracing}} 

\author{Name: GaoYe\quad \\ student number: 2022533005\
\\email: \quad \texttt{gaoye2022@shanghaitech.edu.cn}}

% Document starts
\begin{document}
\maketitle

\vspace*{2 ex}

\section{Introduction}
The report is about my CG assignment3: Basic Ray Tracing. The following are the functions I managed to achieve.
\\
\\
I can compile the source code and configure the language server environment.\\
I implemented ray-triangle intersection functionality.\\
I implemented ray-AABB intersection functionality.\\
I implemented the BVH construction.\\
I implemented the IntersectionTestIntegrator and PerfectRefraction material for basic ray tracing validation, handing refractive and solid surface interactions.\\
I implemented a direct lighting function with diffuse BRDF and shadow testing.\\
I implemented anti-aliasing via multi-ray sampling per pixel within a sub-pixel aperture.

\section{Implementation Details}
\subsection{Language server etc.}
I chose Visual Studio 2022 as the compiler, and vscode as the the workspace. Considering that Visual Studio can not generate compile\_command.json for clangd, I also used Ninja to generate compile\_command.json.

\subsection{Ray-triangle intersection}
The ray-triangle intersection is implemented using the MÃ¶ller-Trumbore algorithm, which efficiently computes the intersection point using barycentric coordinates.

\subsection{Ray-AABB intersection}
The AABB intersection uses the slab method, which computes entry and exit points along each axis and finds their overlap.

\subsection{BVH}
The BVH construction implements a spatial partitioning structure using median splitting heuristic for balanced tree construction.

\subsection{Integrator and Perfect Refraction material}
The refraction part implements total internal reflection handling with fallback to reflection.

\subsection{Direct light}
The direct light implements accurate shadow testing with distance-based occlusion checking, and a simple point light model with uniform intensity distribution.

\subsection{Anti-alising}
This part is partially implemented by the framework, what really matters is commitSample function, performing proper sample accumulation.

\section{Results}
The image shown in \ref{fig:final} shows my final render result, and the image \ref{fig:lowSPP} show the scene with low spp(spp = 2).

\begin{figure}
    \centering
    \includegraphics[width=0.5\linewidth]{finalRender.png}
    \caption{Final result}
    \label{fig:final}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[width=0.5\linewidth]{lowSPP.png}
    \caption{Low spp}
    \label{fig:lowSPP}
\end{figure}

\end{document}

